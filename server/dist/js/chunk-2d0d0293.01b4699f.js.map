{"version":3,"sources":["webpack:///./src/views/lgDetail.vue?6705","webpack:///src/views/lgDetail.vue","webpack:///./src/views/lgDetail.vue?4a64","webpack:///./src/views/lgDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","row","wrap","xs12","staticClass","_v","_s","sensor","name","register","description","min","max","avg","id","chart-data","datacol","staticRenderFns","lgDetailvue_type_script_lang_js_","data","labels","hasRead","props","String","methods","getReading","dateSpan","_this","post","$options","propsData","encodeURI","axios","get","then","result","readings","j","length","reverse","i","aux","push","parseFloat","value","date","Date","getDate","getMonth","getFullYear","forEach","element","Math","apply","indexOf","sum","reduce","a","b","finally","formatDate","o","round","r","random","s","color","toFixed","datasets","label","unit","backgroundColor","lat","y","lng","x","console","log","window","location","pathname","url","catch","err","mounted","components","lineChart","gmap","maps","views_lgDetailvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","installComponents_default","VDivider","VFlex","VLayout"],"mappings":"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","file":"js/chunk-2d0d0293.01b4699f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h1',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"\\n      Sensor Name: \"+_vm._s(_vm.sensor.name)+\"\\n      \"),_c('br')]),_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"Registered on: \"+_vm._s(_vm.sensor.register))]),_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"Description: \"+_vm._s(_vm.sensor.description))]),_c('v-divider'),_c('br'),_c('br'),_c('br'),(_vm.hasRead)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"Min reading:\"+_vm._s(_vm.min))]),_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"Max reading:\"+_vm._s(_vm.max))]),_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"Average: \"+_vm._s(_vm.avg))])]):_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h3',{staticClass:\"font-weight-light display-4\"},[_vm._v(\"The sensor has no reading for the time\")])])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('lineChart',{attrs:{\"id\":\"chart\",\"chart-data\":_vm.datacol}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-layout row wrap>\r\n      <v-flex xs12>\r\n        <h1 class=\"font-weight-light display-4\">\r\n          Sensor Name: {{sensor.name}}\r\n          <br />\r\n        </h1>\r\n        <h3 class=\"font-weight-light display-4\">Registered on: {{sensor.register}}</h3>\r\n        <h3 class=\"font-weight-light display-4\">Description: {{sensor.description}}</h3>\r\n        <v-divider></v-divider>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <v-flex xs12 v-if=\"hasRead\">\r\n          <h3 class=\"font-weight-light display-4\">Min reading:{{min}}</h3>\r\n          <h3 class=\"font-weight-light display-4\">Max reading:{{max}}</h3>\r\n          <h3 class=\"font-weight-light display-4\">Average: {{avg}}</h3>\r\n        </v-flex>\r\n        <v-flex xs12 v-else>\r\n          <h3 class=\"font-weight-light display-4\">The sensor has no reading for the time</h3>\r\n        </v-flex>\r\n      </v-flex>\r\n\r\n      <v-flex xs12>\r\n        <lineChart id=\"chart\" :chart-data=\"datacol\" />\r\n      </v-flex>\r\n    </v-layout>\r\n\r\n</template>\r\n\r\n<script>\r\nimport lineChart from \"../components/charts/lineChart\";\r\nimport gmap from \"../components/maps\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      sensor: null,\r\n      datacol: {},\r\n      data: null,\r\n      labels: null,\r\n      max: null,\r\n      min: null,\r\n      avg: null,\r\n      hasRead: false\r\n    };\r\n  },\r\n  props: {\r\n    name: String\r\n  },\r\n  methods: {\r\n    getReading: function(dateSpan) {\r\n      var post =\r\n        process.env.VUE_APP_backEnd +\r\n        \"/readSensor?name=\" +\r\n        this.$options.propsData.name;\r\n      if (dateSpan != \"setup\") {\r\n        post += \"&datespan=\" + dateSpan;\r\n      }\r\n      post = encodeURI(post);\r\n\r\n      this.axios\r\n        .get(post)\r\n        .then(result => {\r\n          var data = [];\r\n          var labels = [];\r\n          let readings = result.data.result;\r\n          var j = 0;\r\n\r\n          if (readings.length == 0) {\r\n            this.hasRead = false;\r\n          } else {\r\n            this.hasRead = true;\r\n          }\r\n          if (dateSpan == \"setup\") {\r\n            readings.reverse();\r\n            for (var i = readings.length; j < 10 && i != 0; i--, j++) {\r\n              var aux = readings[i - 1];\r\n\r\n              data.push(parseFloat(aux.value));\r\n              var date = new Date(aux.date);\r\n              labels.push(\r\n                date.getDate() +\r\n                  \"/\" +\r\n                  (date.getMonth() + 1) +\r\n                  \"/\" +\r\n                  date.getFullYear()\r\n              );\r\n            }\r\n          } else {\r\n            readings.forEach(element => {\r\n              data.push(parseFloat(element.value));\r\n              var date = new Date(element.date);\r\n              labels.push(\r\n                date.getDate() +\r\n                  \"/\" +\r\n                  (date.getMonth() + 1) +\r\n                  \"/\" +\r\n                  date.getFullYear()\r\n              );\r\n            });\r\n          }\r\n          this.data = data;\r\n          this.labels = labels;\r\n\r\n          this.min =\r\n            Math.min(...data) +\r\n            \" on \" +\r\n            labels[data.indexOf(Math.min(...data))];\r\n          this.max =\r\n            Math.max(...data) +\r\n            \" on \" +\r\n            labels[data.indexOf(Math.max(...data))];\r\n\r\n          var sum = data.reduce(function(a, b) {\r\n            return a + b;\r\n          });\r\n          var avg = sum / data.length;\r\n\r\n          this.avg = avg;\r\n        })\r\n        .finally(() => {\r\n          this.axios\r\n            .get(\r\n              process.env.VUE_APP_backEnd +\r\n                \"/getSensorInfo?name=\" +\r\n                this.$options.propsData.name\r\n            )\r\n            .then(result => {\r\n              var sensor = result.data.result;\r\n              var date = new Date(sensor.register);\r\n              var formatDate =\r\n                date.getDate() +\r\n                \"/\" +\r\n                (date.getMonth() + 1) +\r\n                \"/\" +\r\n                date.getFullYear();\r\n              sensor.register = formatDate;\r\n              this.sensor = sensor;\r\n\r\n              var o = Math.round,\r\n                r = Math.random,\r\n                s = 255;\r\n              var color =\r\n                \"rgba(\" +\r\n                o(r() * s) +\r\n                \",\" +\r\n                o(r() * s) +\r\n                \",\" +\r\n                o(r() * s) +\r\n                \",\" +\r\n                r().toFixed(1) +\r\n                \")\";\r\n\r\n              this.datacol = {\r\n                labels: this.labels,\r\n                datasets: [\r\n                  {\r\n                    label: this.sensor.unit,\r\n                    backgroundColor: color,\r\n                    data: this.data\r\n                  }\r\n                ]\r\n              };\r\n              this.axios\r\n                .post(process.env.VUE_APP_lgip + \"/movelg\", {\r\n                  lat: sensor.y,\r\n                  lng: sensor.x\r\n                })\r\n                .then(() => {\r\n                  console.log(\"ue\");\r\n                  console.log(window.location.pathname);\r\n                  this.axios\r\n                    .post(process.env.VUE_APP_lgip + \"/opensite\", {\r\n                      url:\r\n                        process.env.VUE_APP_localip + window.location.pathname\r\n                    })\r\n                    .then(() => {\r\n                      console.log(\"finally\");\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                  console.log(err);\r\n                });\r\n            });\r\n        });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getReading(\"setup\");\r\n  },\r\n  components: {\r\n    lineChart,\r\n    gmap\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lgDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lgDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./lgDetail.vue?vue&type=template&id=6e18ff97&\"\nimport script from \"./lgDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./lgDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/mnt/d/Codes/Repositories/Renato-Fernandes-GSoC2019-FrontEndApp/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {VDivider,VFlex,VLayout})\n"],"sourceRoot":""}