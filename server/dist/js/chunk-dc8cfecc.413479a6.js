(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc8cfecc"],{"2ee3":function(t,e,n){var a,l;(function(i,o){if(null===i)throw new Error("Google-maps package can be used only in browser");a=o,l="function"===typeof a?a.call(e,n,e,t):a,void 0===l||(t.exports=l)})("undefined"!==typeof window?window:null,function(){"use strict";var t="3.31",e=null,n=null,a=!1,l=[],i=[],o=null,r={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};r.VERSION=t,r.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",r._googleMockApiObject={},r.load=function(t){null===n?!0===a?t&&l.push(t):(a=!0,window[r.WINDOW_CALLBACK_NAME]=function(){s(t)},r.createLoader()):t&&t(n)},r.createLoader=function(){e=document.createElement("script"),e.type="text/javascript",e.src=r.createUrl(),document.body.appendChild(e)},r.isLoaded=function(){return null!==n},r.createUrl=function(){var t=r.URL;return t+="?callback="+r.WINDOW_CALLBACK_NAME,r.KEY&&(t+="&key="+r.KEY),r.LIBRARIES.length>0&&(t+="&libraries="+r.LIBRARIES.join(",")),r.CLIENT&&(t+="&client="+r.CLIENT),r.CHANNEL&&(t+="&channel="+r.CHANNEL),r.LANGUAGE&&(t+="&language="+r.LANGUAGE),r.REGION&&(t+="&region="+r.REGION),r.VERSION&&(t+="&v="+r.VERSION),t},r.release=function(s){var u=function(){r.KEY=null,r.LIBRARIES=[],r.CLIENT=null,r.CHANNEL=null,r.LANGUAGE=null,r.REGION=null,r.VERSION=t,n=null,a=!1,l=[],i=[],"undefined"!==typeof window.google&&delete window.google,"undefined"!==typeof window[r.WINDOW_CALLBACK_NAME]&&delete window[r.WINDOW_CALLBACK_NAME],null!==o&&(r.createLoader=o,o=null),null!==e&&(e.parentElement.removeChild(e),e=null),s&&s()};a?r.load(function(){u()}):u()},r.onLoad=function(t){i.push(t)},r.makeMock=function(){o=r.createLoader,r.createLoader=function(){window.google=r._googleMockApiObject,window[r.WINDOW_CALLBACK_NAME]()}};var s=function(t){var e;for(a=!1,null===n&&(n=window.google),e=0;e<i.length;e++)i[e](n);for(t&&t(n),e=0;e<l.length;e++)l[e](n);l=[]};return r})},"554e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("h1",{staticClass:"font-weight-light"},[t._v("\n        Sensor Name: "+t._s(t.sensor.name)+"\n        "),n("br")]),n("h3",[t._v("Registered on: "+t._s(t.sensor.register))]),n("h3",[t._v("Description: "+t._s(t.sensor.description))]),n("h3",[t._v("Unit description: "+t._s(t.sensor.unitdesd))]),n("v-divider"),n("br"),t.hasRead?n("v-flex",{attrs:{xs12:""}},[n("h3",[t._v("Min reading:"+t._s(t.min))]),n("h3",[t._v("Max reading:"+t._s(t.max))]),n("h3",[t._v("Average: "+t._s(t.avg))])]):n("v-flex",{attrs:{xs12:""}},[n("h3",[t._v("The sensor has no reading for the time")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.closeSite()}}},[n("span",[t._v("Close site")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.openballon()}}},[n("span",[t._v("Open ballon")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.closeBallon()}}},[n("span",[t._v("Close Ballon")])])],1),n("v-flex",{attrs:{xs6:""}},[n("lineChart",{attrs:{id:"chart","chart-data":t.datacol}}),n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-btn-toggle",{attrs:{"justify-center":""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("setup")}}},[n("span",[t._v("all")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1y")}}},[n("span",[t._v("1y")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("6m")}}},[n("span",[t._v("6m")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1m")}}},[n("span",[t._v("1m")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1w")}}},[n("span",[t._v("1w")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1d")}}},[n("span",[t._v("1d")])])],1)],1)],1)],1)],1)},l=[],i=(n("ac6a"),n("7f7f"),n("4a88")),o=n("6b40"),r={data:function(){return{sensor:null,datacol:{},data:null,labels:null,max:null,min:null,avg:null,hasRead:!1}},props:{name:String},methods:{getReading:function(t){var e=this,n="/readSensor?name="+this.$options.propsData.name;"setup"!=t&&(n+="&datespan="+t),n=encodeURI(n),this.axios.get(n).then(function(n){var a=[],l=[],i=n.data.result,o=0;if(0==i.length?e.hasRead=!1:e.hasRead=!0,"setup"==t){i.reverse();for(var r=i.length;o<10&&0!=r;r--,o++){var s=i[r-1];a.push(parseFloat(s.value));var u=new Date(s.date);l.push(u.getDate()+"/"+(u.getMonth()+1)+"/"+u.getFullYear())}}else i.forEach(function(t){a.push(parseFloat(t.value));var e=new Date(t.date);l.push(e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear())});e.data=a,e.labels=l,e.min=Math.min.apply(Math,a)+" on "+l[a.indexOf(Math.min.apply(Math,a))],e.max=Math.max.apply(Math,a)+" on "+l[a.indexOf(Math.max.apply(Math,a))];var c=a.reduce(function(t,e){return t+e}),p=c/a.length;e.avg=p}).finally(function(){e.axios.get("/getSensorInfo?name="+e.$options.propsData.name).then(function(n){var a=n.data.result,l=new Date(a.register),i=l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear();a.register=i,e.sensor=a;var o=Math.round,r=Math.random,s=255,u="rgba("+o(r()*s)+","+o(r()*s)+","+o(r()*s)+","+r().toFixed(1)+")";e.datacol={labels:e.labels,datasets:[{label:e.sensor.unit,backgroundColor:u,data:e.data}]},e.axios.post("/movelg",{lat:a.y,lng:a.x,host:"192.168.0.155",username:"lg",password:"lq"}).then(function(){}).catch(function(t){console.log("here"),console.log(t)}).finally(function(){console.log("ue"),console.log(window.location.pathname),console.log(encodeURI("http://192.168.0.187:8888/front/"+e.sensor.name+"/lgDetail/"+t))});var c=Object({VUE_APP_backEnd:"",VUE_APP_ericbe:"http://192.168.0.155:8888",VUE_APP_masterIp:"192.168.0.155",VUE_APP_slaveIp:"192.168.0.141",VUE_APP_key:"lq",VUE_APP_user:"lg",VUE_APP_localip:"http://192.168.0.187:8888",NODE_ENV:"production",BASE_URL:"/"});e.axios.post(c.VUE_APP_backEnd+"/opensite",{serverurl:encodeURI(c.VUE_APP_localip+"/front/"+e.sensor.name+"/lgDetail/"+t),lgurl:c.VUE_APP_slaveIp,lguser:c.VUE_APP_user,lgkey:c.VUE_APP_key}).then(function(){console.log("finally")}).catch(function(t){console.log("ta")})})})},closeSite:function(){this.axios.post("/closesite",{lgurl:"192.168.0.141",lguser:"lg",lgkey:"lq"}).then(function(){console.log("finally")})},closeBallon:function(){this.axios.get("http://192.168.0.155:8888/kml/manage/balloon/"+this.sensor.sensorid+"/0")},openballon:function(){this.axios.get("http://192.168.0.155:8888/kml/manage/balloon/"+this.sensor.sensorid+"/1")}},mounted:function(){this.getReading("setup")},components:{lineChart:i["a"],gmap:o["a"]}},s=r,u=n("2877"),c=n("6544"),p=n.n(c),d=n("8336"),h=(n("934c"),n("58dbb"),n("2b0e"));function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return h["default"].extend({name:"proxyable",model:{prop:t,event:e},props:g({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:g({},t,function(t){this.internalLazyValue=t})})}var v=f(),m=v,_=n("6a18"),b=n("58df"),y=n("d9bd"),A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},V=Object(b["a"])(m,_["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return A({},this.themeClasses)},selectedItems:function(){var t=this;return this.items.filter(function(e,n){return t.toggleMethod(t.getValue(e,n))})},selectedValues:function(){return Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(y["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t,e){this.updateInternalValue(this.getValue(t,e))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",function(){return e.onClick(t,n)}),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);var a=this.selectedValues.indexOf(n);if(!(a<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(function(t){return t!==n}):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=t?this.items.length-1:0;this.updateInternalValue(this.getValue(this.items[e],e))}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),a=n.findIndex(function(e){return e===t});this.mandatory&&a>-1&&n.length-1<1||null!=this.max&&a<0&&n.length+1>this.max||(a>-1?n.splice(a,1):n.push(t),this.internalValue=n)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",{staticClass:"v-item-group",class:this.classes},this.$slots.default)}}),E=(V.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}}),V.extend({name:"button-group",provide:function(){return{btnToggle:this}},props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return V.options.computed.classes.call(this)}}})),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},w=E.extend({name:"v-btn-toggle",props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return L({},E.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--only-child":1===this.selectedItems.length,"v-btn-toggle--selected":this.selectedItems.length>0})}}}),x=n("a523"),I=n("ce7e"),N=n("0e8f"),M=n("a722"),k=Object(u["a"])(s,a,l,!1,null,null,null);e["default"]=k.exports;p()(k,{VBtn:d["a"],VBtnToggle:w,VContainer:x["a"],VDivider:I["a"],VFlex:N["a"],VLayout:M["a"]})},"58dbb":function(t,e,n){},"6b40":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("div",{attrs:{id:"map"}})])],1)],1)},l=[],i=(n("c5f6"),n("2ee3")),o=n.n(i);o.a.KEY="AIzaSyCX0EVea8pRdiSdso5s78fahE7VTm0YtaA",o.a.LIBRARIES=["places"];var r={data:function(){return{latLng:"",localizationName:null,markers:[]}},props:{lat:Number,lng:Number,editable:Boolean,setMark:Boolean,img:String},watch:{latLng:function(){}},mounted:function(){var t,e=this;console.log(e.$options.propsData),o.a.load(function(n){var a=new n.maps.Map(document.getElementById("map"),{zoom:16,center:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng}});e.$options.propsData.editable?(a.addListener("click",function(l){null!=t&&t.setMap(null),t=new n.maps.Marker({position:l.latLng,map:a}),e.latLng=l.latLng,e.$store.dispatch("setCoord",l.latLng)}),e.$options.propsData.setMark&&(t=new n.maps.Marker({position:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng},map:a}))):t=new n.maps.Marker({position:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng},map:a})})}},s=r,u=(n("bdef"),n("2877")),c=n("6544"),p=n.n(c),d=n("a523"),h=n("0e8f"),g=n("a722"),f=Object(u["a"])(s,a,l,!1,null,null,null);e["a"]=f.exports;p()(f,{VContainer:d["a"],VFlex:h["a"],VLayout:g["a"]})},"6ba5":function(t,e,n){},"934c":function(t,e,n){},bdef:function(t,e,n){"use strict";var a=n("6ba5"),l=n.n(a);l.a}}]);
//# sourceMappingURL=chunk-dc8cfecc.413479a6.js.map