(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc8cfecc"],{"2ee3":function(t,e,n){var a,l;(function(o,r){if(null===o)throw new Error("Google-maps package can be used only in browser");a=r,l="function"===typeof a?a.call(e,n,e,t):a,void 0===l||(t.exports=l)})("undefined"!==typeof window?window:null,function(){"use strict";var t="3.31",e=null,n=null,a=!1,l=[],o=[],r=null,i={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null};i.VERSION=t,i.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",i._googleMockApiObject={},i.load=function(t){null===n?!0===a?t&&l.push(t):(a=!0,window[i.WINDOW_CALLBACK_NAME]=function(){s(t)},i.createLoader()):t&&t(n)},i.createLoader=function(){e=document.createElement("script"),e.type="text/javascript",e.src=i.createUrl(),document.body.appendChild(e)},i.isLoaded=function(){return null!==n},i.createUrl=function(){var t=i.URL;return t+="?callback="+i.WINDOW_CALLBACK_NAME,i.KEY&&(t+="&key="+i.KEY),i.LIBRARIES.length>0&&(t+="&libraries="+i.LIBRARIES.join(",")),i.CLIENT&&(t+="&client="+i.CLIENT),i.CHANNEL&&(t+="&channel="+i.CHANNEL),i.LANGUAGE&&(t+="&language="+i.LANGUAGE),i.REGION&&(t+="&region="+i.REGION),i.VERSION&&(t+="&v="+i.VERSION),t},i.release=function(s){var u=function(){i.KEY=null,i.LIBRARIES=[],i.CLIENT=null,i.CHANNEL=null,i.LANGUAGE=null,i.REGION=null,i.VERSION=t,n=null,a=!1,l=[],o=[],"undefined"!==typeof window.google&&delete window.google,"undefined"!==typeof window[i.WINDOW_CALLBACK_NAME]&&delete window[i.WINDOW_CALLBACK_NAME],null!==r&&(i.createLoader=r,r=null),null!==e&&(e.parentElement.removeChild(e),e=null),s&&s()};a?i.load(function(){u()}):u()},i.onLoad=function(t){o.push(t)},i.makeMock=function(){r=i.createLoader,i.createLoader=function(){window.google=i._googleMockApiObject,window[i.WINDOW_CALLBACK_NAME]()}};var s=function(t){var e;for(a=!1,null===n&&(n=window.google),e=0;e<o.length;e++)o[e](n);for(t&&t(n),e=0;e<l.length;e++)l[e](n);l=[]};return i})},"554e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("h1",{staticClass:"font-weight-light"},[t._v("\n        Sensor Name: "+t._s(t.sensor.name)+"\n        "),n("br")]),n("h3",[t._v("Registered on: "+t._s(t.sensor.register))]),n("h3",[t._v("Description: "+t._s(t.sensor.description))]),n("h3",[t._v("Unit description: "+t._s(t.sensor.unitdesd))]),n("v-divider"),n("br"),t.hasRead?n("v-flex",{attrs:{xs12:""}},[n("h3",[t._v("Min reading:"+t._s(t.min))]),n("h3",[t._v("Max reading:"+t._s(t.max))]),n("h3",[t._v("Average: "+t._s(t.avg))])]):n("v-flex",{attrs:{xs12:""}},[n("h3",[t._v("The sensor has no reading for the time")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.closeSite()}}},[n("span",[t._v("Close site")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.openballon()}}},[n("span",[t._v("Open ballon")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.closeBallon()}}},[n("span",[t._v("Close Ballon")])])],1),n("v-flex",{attrs:{xs6:""}},[n("lineChart",{key:t.redender,attrs:{id:"chart","chart-data":t.datacol}}),n("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[n("v-btn-toggle",{attrs:{"justify-center":""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("setup")}}},[n("span",[t._v("all")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1y")}}},[n("span",[t._v("1y")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1m")}}},[n("span",[t._v("1m")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1w")}}},[n("span",[t._v("1w")])]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.getReading("1d")}}},[n("span",[t._v("1d")])])],1)],1)],1)],1)],1)},l=[],o=n("75fc"),r=n("768b"),i=(n("ffc1"),n("456d"),n("55dd"),n("ac6a"),n("28a5"),n("bd86")),s=n("cebc"),u=(n("7f7f"),n("4a88")),c=n("6b40"),d={data:function(){return{sensor:null,datacol:{},data:null,labels:null,max:null,min:null,avg:null,hasRead:!1,redender:0,realdata:[],realdatamin:[],realdatamax:[],toinclude:[]}},props:{name:String},methods:{getReading:function(t){var e=this;this.realdata=[],this.realdatamin=[],this.realdatamax=[];var n="/readSensor?name="+this.$options.propsData.name;"setup"!=t&&(n+="&datespan="+t),n=encodeURI(n),console.log("datespan",t),this.axios.get(n).then(function(n){var a=[],l=[],u=n.data.result,c=0,d=function(t){return function(e){return e.reduce(function(e,n){return Object(s["a"])({},e,Object(i["a"])({},n[t],(e[n[t]]||[]).concat(n)))},{})}},p=function(n,i){for(var s=d(n),c=s(u),p=function(t,e){var n=new Date,a=new Date,l=t.split("/"),o=e.split("/");return n.setDate(l[0]),n.setMonth(l[1]-1),a.setDate(o[0]),a.setMonth(o[1]-1),n-a},h=0,g=Object.entries(c);h<g.length;h++){var f=Object(r["a"])(g[h],2),v=f[0],m=f[1];console.log("key",v," value",m);var b=[];m.forEach(function(t){b.push(parseFloat(t.value))});var y=b.reduce(function(t,e){return t+e});y/=m.length,e.realdata.push(y)}if(console.log("To include",e.toinclude),"1d"==t){for(var _=0;_<24;_++)c.hasOwnProperty(_)||(c[_]=[{value:0}]);console.log(c)}if("1w"==t){for(var E=0;E<7;E++){var A=new Date;A.setDate(A.getDate()-E),console.log("data",A),c.hasOwnProperty(A.getDate()+"/"+(A.getMonth()+1))||(c[A.getDate()+"/"+(A.getMonth()+1)]=[{value:0}])}var w=c;c={},Object.keys(w).sort(p).forEach(function(t){c[t]=w[t]})}if("1m"==t){for(var V=0;V<30;V++){A=new Date;A.setDate(A.getDate()-V),console.log("data",A),c.hasOwnProperty(A.getDate()+"/"+(A.getMonth()+1))||(c[A.getDate()+"/"+(A.getMonth()+1)]=[{value:0}])}w=c;c={},Object.keys(w).sort(p).forEach(function(t){c[t]=w[t]})}if("1y"==t)for(var x=0;x<12;x++)c.hasOwnProperty(x+1)||(c[x+1]=[{value:0}]);console.log("sorted?",c);for(var L=0,I=Object.entries(c);L<I.length;L++){var M=Object(r["a"])(I[L],2);v=M[0],m=M[1];console.log("key",v," value",m);b=[];m.forEach(function(t){b.push(parseFloat(t.value))});y=b.reduce(function(t,e){return t+e});console.log(y),y/=m.length,console.log(y),i(v,y,a,l,m),e.realdatamin.push(Math.min.apply(Math,Object(o["a"])(b))),e.realdatamax.push(Math.max.apply(Math,Object(o["a"])(b)))}};if(u.forEach(function(t){var e=new Date(t.date);console.log(e),t.day=e.getDate()+"/"+(e.getMonth()+1),t.month=e.getMonth()+1,t.year=e.getFullYear(),t.hour=e.getHours()-3,t.minute=e.getMinutes(),t.second=e.getSeconds()}),0==u.length?e.hasRead=!1:e.hasRead=!0,"setup"==t){u.reverse();for(var h=u.length;c<10&&0!=h;h--,c++){var g=u[h-1];a.push(parseFloat(g.value)),e.realdata.push(parseFloat(g.value));var f=new Date(g.date);l.push(f.getDate()+"/"+(f.getMonth()+1)+"/"+f.getFullYear())}}else"1d"==t?(console.log("Reading",u),p("hour",function(t,e,n,a){n.push(e),a.push(t+"h")})):"1w"==t||"1m"==t?p("day",function(t,e,n,a,l){console.log("day",l[0].month),n.push(e),a.push(t)}):p("month",function(t,e,n,a,l){n.push(e),a.push(t)});e.data=a,e.labels=l;var v=e.realdata.reduce(function(t,e){return t+e}),m=v/e.realdata.length;e.avg=Math.round(10*m)/10,e.min=Math.round(10*Math.min.apply(Math,Object(o["a"])(e.realdata)))/10,e.max=Math.round(10*Math.max.apply(Math,Object(o["a"])(e.realdata)))/10}).finally(function(){e.axios.get("/getSensorInfo?name="+e.$options.propsData.name).then(function(n){var a=n.data.result,l=new Date(a.register),o=l.getDate()+"/"+(l.getMonth()+1)+"/"+l.getFullYear();a.register=o,e.sensor=a,e.datacol={labels:e.labels,datasets:[{label:"Avarage",backgroundColor:"rgba(0, 0, 0, 1)",borderColor:"rgba(0, 0, 0, 0.3)",data:e.data,fill:!1,stack:"1"},{label:"Maximum",backgroundColor:"rgba(255, 31, 31, 1)",borderColor:"rgba(255, 31, 31, 0.3)",data:e.realdatamax,fill:!1,stack:"1"},{label:"Minimum",backgroundColor:"rgba(31, 87, 255, 1)",borderColor:"rgba(31, 87, 255, 0.3)",data:e.realdatamin,fill:!1,stack:"1"}]},e.redender+=1,e.axios.post("/movelg",{lat:a.y,lng:a.x,host:"192.168.0.155",username:"lg",password:"lq"}).then(function(){}).catch(function(t){console.log("here"),console.log(t)}).finally(function(){console.log("ue"),console.log(window.location.pathname),console.log(encodeURI("http://192.168.0.187:8888/front/"+e.sensor.name+"/lgDetail/"+t))});var r=Object({VUE_APP_backEnd:"",VUE_APP_ericbe:"http://192.168.0.155:8888",VUE_APP_masterIp:"192.168.0.155",VUE_APP_slaveIp:"192.168.0.141",VUE_APP_key:"lq",VUE_APP_user:"lg",VUE_APP_localip:"http://192.168.0.187:8888",NODE_ENV:"production",BASE_URL:"/"});e.axios.post(r.VUE_APP_backEnd+"/opensite",{serverurl:encodeURI(r.VUE_APP_localip+"/front/"+e.sensor.name+"/lgDetail/"+t),lgurl:r.VUE_APP_slaveIp,lguser:r.VUE_APP_user,lgkey:r.VUE_APP_key}).then(function(){console.log("finally")}).catch(function(t){console.log("ta")})})})},closeSite:function(){this.axios.post("/closesite",{lgurl:"192.168.0.141",lguser:"lg",lgkey:"lq"}).then(function(){console.log("finally")})},closeBallon:function(){this.axios.get("http://192.168.0.155:8888/kml/manage/balloon/"+this.sensor.sensorid+"/0")},openballon:function(){this.axios.get("http://192.168.0.155:8888/kml/manage/balloon/"+this.sensor.sensorid+"/1")}},mounted:function(){this.getReading("setup")},components:{lineChart:u["a"],gmap:c["a"]}},p=d,h=n("2877"),g=n("6544"),f=n.n(g),v=n("8336"),m=(n("934c"),n("58dbb"),n("2b0e"));function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return m["default"].extend({name:"proxyable",model:{prop:t,event:e},props:b({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:b({},t,function(t){this.internalLazyValue=t})})}var _=y(),E=_,A=n("6a18"),w=n("58df"),V=n("d9bd"),x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},L=Object(w["a"])(E,A["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return x({},this.themeClasses)},selectedItems:function(){var t=this;return this.items.filter(function(e,n){return t.toggleMethod(t.getValue(e,n))})},selectedValues:function(){return Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(V["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t,e){this.updateInternalValue(this.getValue(t,e))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",function(){return e.onClick(t,n)}),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);var a=this.selectedValues.indexOf(n);if(!(a<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(function(t){return t!==n}):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=t?this.items.length-1:0;this.updateInternalValue(this.getValue(this.items[e],e))}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),a=n.findIndex(function(e){return e===t});this.mandatory&&a>-1&&n.length-1<1||null!=this.max&&a<0&&n.length+1>this.max||(a>-1?n.splice(a,1):n.push(t),this.internalValue=n)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",{staticClass:"v-item-group",class:this.classes},this.$slots.default)}}),I=(L.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}}),L.extend({name:"button-group",provide:function(){return{btnToggle:this}},props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return L.options.computed.classes.call(this)}}})),M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},k=I.extend({name:"v-btn-toggle",props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return M({},I.options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--only-child":1===this.selectedItems.length,"v-btn-toggle--selected":this.selectedItems.length>0})}}}),O=n("a523"),C=n("ce7e6"),D=n("0e8f"),N=n("a722"),R=Object(h["a"])(p,a,l,!1,null,null,null);e["default"]=R.exports;f()(R,{VBtn:v["a"],VBtnToggle:k,VContainer:O["a"],VDivider:C["a"],VFlex:D["a"],VLayout:N["a"]})},"58dbb":function(t,e,n){},"6b40":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("div",{attrs:{id:"map"}})])],1)],1)},l=[],o=(n("c5f6"),n("2ee3")),r=n.n(o);r.a.KEY="AIzaSyCX0EVea8pRdiSdso5s78fahE7VTm0YtaA",r.a.LIBRARIES=["places"];var i={data:function(){return{latLng:"",localizationName:null,markers:[]}},props:{lat:Number,lng:Number,editable:Boolean,setMark:Boolean,img:String},watch:{latLng:function(){}},mounted:function(){var t,e=this;console.log(e.$options.propsData),r.a.load(function(n){var a=new n.maps.Map(document.getElementById("map"),{zoom:16,center:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng}});e.$options.propsData.editable?(a.addListener("click",function(l){null!=t&&t.setMap(null),t=new n.maps.Marker({position:l.latLng,map:a}),e.latLng=l.latLng,e.$store.dispatch("setCoord",l.latLng)}),e.$options.propsData.setMark&&(t=new n.maps.Marker({position:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng},map:a}))):t=new n.maps.Marker({position:{lat:e.$options.propsData.lat,lng:e.$options.propsData.lng},map:a})})}},s=i,u=(n("bdef"),n("2877")),c=n("6544"),d=n.n(c),p=n("a523"),h=n("0e8f"),g=n("a722"),f=Object(u["a"])(s,a,l,!1,null,null,null);e["a"]=f.exports;d()(f,{VContainer:p["a"],VFlex:h["a"],VLayout:g["a"]})},"6ba5":function(t,e,n){},"934c":function(t,e,n){},bdef:function(t,e,n){"use strict";var a=n("6ba5"),l=n.n(a);l.a}}]);
//# sourceMappingURL=chunk-dc8cfecc.d46a9e07.js.map