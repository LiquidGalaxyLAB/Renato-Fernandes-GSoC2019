(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a2d93ae"],{6795:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[s("v-flex",{attrs:{xs12:"","v-if":null!=t.sensor}},[s("h1",{staticClass:"font-weight-light display-3 text-xs-center"},[t._v("\n      Sensor Name: "+t._s(t.sensor.name)+"\n      "),s("br")]),s("h1",{staticClass:"font-weight-light display-3 text-xs-center"},[t._v("Register: "+t._s(t.sensor.register))]),s("h1",{staticClass:"font-weight-light display-3 text-xs-center"},[t._v("Unit description : "+t._s(t.sensor.unitdesd))]),s("h1",{staticClass:"font-weight-light display-3 text-xs-center"},[t._v("Owner : "+t._s(t.owner))]),s("v-divider"),s("br"),s("br"),s("br"),t.hasRead?s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"text-xs-center font-weight-light display-3 blue--text font-weight-black"},[t._v("MIN")])]),s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"font-weight-light display-3 text-center font-weight-black"},[t._v("AVG")])]),s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"font-weight-light display-3 red--text darken-4 text-center font-weight-black"},[t._v("MAX")])])],1)],1):t._e(),t.hasRead?s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"font-weight-light display-4 blue--text text-center"},[t._v(t._s(t.min)+" "+t._s(t.sensor.unit))])]),s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"font-weight-light display-4 text-center"},[t._v(t._s(t.avg)+" "+t._s(t.sensor.unit))])]),s("v-flex",{attrs:{xs4:""}},[s("h3",{staticClass:"font-weight-light display-4 red--text darken-4 text-center"},[t._v(t._s(t.max)+" "+t._s(t.sensor.unit))])])],1)],1):s("v-flex",{attrs:{xs12:""}},[s("h3",{staticClass:"font-weight-light display-3"},[t._v("The sensor has no reading for the time")])])],1),s("br"),s("br"),s("v-flex",{attrs:{xs10:"","offset-xs1":""}},[s("lineChart",{attrs:{id:"chart","chart-data":t.datacol,fontSize:"40"}}),s("v-spacer")],1),s("v-flex",{attrs:{xs12:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs3:""}},[s("v-img",{attrs:{src:a("f959")}})],1),s("v-flex",{attrs:{xs3:""}},[s("v-img",{attrs:{src:a("8534")}})],1),s("v-flex",{attrs:{xs3:""}},[s("v-img",{attrs:{src:a("c4c8")}})],1),s("v-flex",{attrs:{xs3:""}},[s("v-img",{attrs:{src:a("0975")}})],1)],1)],1)],1)},n=[],r=(a("6b54"),a("768b")),l=(a("ac6a"),a("ffc1"),a("bd86")),o=a("cebc"),i=(a("7f7f"),a("4a88")),c={data:function(){return{sensor:null,datacol:{},data:null,labels:null,max:null,min:null,avg:null,hasRead:!1,minlbl:null,maxlbl:null,owner:null}},props:{name:String,time:String},methods:{getReading:function(t){var e=this,a="/readSensor?name="+this.$options.propsData.name;"setup"!=t&&(a+="&datespan="+t),a=encodeURI(a),this.axios.get(a).then(function(a){var s=[],n=[],i=a.data.result,c=0,h=function(t){return function(e){return e.reduce(function(e,a){return Object(o["a"])({},e,Object(l["a"])({},a[t],(e[a[t]]||[]).concat(a)))},{})}},u=function(t,e){var a=h(t),l=a(i);console.log(t,a(i));for(var o=[],c=0,u=Object.entries(l);c<u.length;c++){var g=Object(r["a"])(u[c],2),f=g[0],d=g[1];console.log(d),d.forEach(function(t){o.push(parseFloat(t.value))}),console.log("VALUES",o);var x=o.reduce(function(t,e){return t+e});console.log(x),x/=d.length,console.log(x),e(f,x,s,n,d)}};if(i.forEach(function(t){var e=new Date(t.date);console.log(e),t.day=e.getDate(),t.month=e.getMonth()+1,t.year=e.getFullYear(),t.hour=e.getHours()-3,t.minute=e.getMinutes(),t.second=e.getSeconds()}),0==i.length?e.hasRead=!1:e.hasRead=!0,0==i.length?e.hasRead=!1:e.hasRead=!0,"setup"==t){i.reverse();for(var g=i.length;c<10&&0!=g;g--,c++){var f=i[g-1];s.push(parseFloat(f.value));var d=new Date(f.date);n.push(d.getDate()+"/"+(d.getMonth()+1)+"/"+d.getFullYear())}}else"1d"==t?(console.log("Reading",i),u("hour",function(t,e,a,s){a.push(e),s.push(t+"h")})):"1w"==t||"1m"==t?u("day",function(t,e,a,s,n){console.log("day",n[0].month),a.push(e),s.push(t+"/"+n[0].month.toString())}):u("month",function(t,e,a,s,n){a.push(e),s.push(t)});e.data=s,e.labels=n,e.min=Math.min.apply(Math,s),e.max=Math.max.apply(Math,s),e.minlbl=n[s.indexOf(Math.min.apply(Math,s))],e.maxlbl=n[s.indexOf(Math.max.apply(Math,s))];var x=s.reduce(function(t,e){return t+e}),v=x/s.length;e.avg=Math.round(10*v)/10,e.min=Math.round(10*e.min)/10,e.max=Math.round(10*e.max)/10}).finally(function(){e.axios.get("/getSensorInfo?name="+e.$options.propsData.name).then(function(t){var a=t.data.result,s=new Date(a.register),n=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear();a.register=n,e.sensor=a;var r=Math.round,l=Math.random,o=255,i="rgba("+r(l()*o)+","+r(l()*o)+","+r(l()*o)+","+l().toFixed(1)+")";e.datacol={labels:e.labels,datasets:[{label:e.sensor.unit,backgroundColor:i,data:e.data}]};var c=e;e.axios.get("/getAllSensors").then(function(t){console.log(t),t.data.result.forEach(function(t){t.sensors.forEach(function(e){e.name==c.sensor.name&&(c.owner=t.name)})})})})})}},mounted:function(){this.getReading(this.$options.propsData.time)},components:{lineChart:i["a"]}},h=c,u=(a("bf69"),a("2877")),g=a("6544"),f=a.n(g),d=a("ce7e"),x=a("0e8f"),v=a("adda"),p=a("a722"),m=a("9910"),w=Object(u["a"])(h,s,n,!1,null,null,null);e["default"]=w.exports;f()(w,{VDivider:d["a"],VFlex:x["a"],VImg:v["a"],VLayout:p["a"],VSpacer:m["a"]})},bf69:function(t,e,a){"use strict";var s=a("dc6a"),n=a.n(s);n.a},dc6a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4a2d93ae.4db6854f.js.map